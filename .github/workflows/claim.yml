

name: Runme

on:
  push:
    branches: ["main"]

jobs:
  build:
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["990 995 1", "990 995 2", "990 995 3", "990 995 4", "990 995 5", "990 995 6", "990 995 7", "995 1000 8", "995 1000 9", "995 1000 10", "995 1000 11", "995 1000 12", "995 1000 13", "995 1000 14", "1000 1005 15", "1000 1005 16", "1000 1005 17", "1000 1005 18", "1000 1005 19", "1000 1005 20", "1000 1005 21"]
    steps:
      - uses: actions/checkout@v3
      - name: Install Dependencies
        uses: actions/setup-node@v4
        env:
          PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
        with:
          node-version: 18
      - name: Test Code
        uses: mujo-code/puppeteer-headful@16.6.0
        env:
          RANGE_INDEX: ${{ matrix.rangeIndex }}
          MY_DATA: ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        with:
          args: |
            npm run start
      - name: done
        run: exit
