
name: Runme

on:
  push:
    branches: ["main"]

jobs:
  build:
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: ["1845 1850 1", "1845 1850 2", "1845 1850 3", "1845 1850 4", "1845 1850 5", "1850 1855 6", "1850 1855 7", "1850 1855 8", "1850 1855 9", "1850 1855 10", "1855 1860 11", "1855 1860 12", "1855 1860 13", "1855 1860 14", "1855 1860 15"]
    steps:
      - uses: actions/checkout@v3
      - name: Install Dependencies
        uses: actions/setup-node@v4
        with:
          node-version: 18
      - name: Install libraries
        run: |
          sudo apt-get update
          sudo apt-get install -y libgbm1
      - name: Setup Code
        run: |
          node index.js
          npm i
          node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
          ls -la
      - name: Run
        run: |
          cd wkwk
          npm install
          node run.js ${{ matrix.rangeIndex }}
      - name: done
        run: exit
